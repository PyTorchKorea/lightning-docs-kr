


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="ko" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="ko" > <!--<![endif]-->
<head>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-5SCNQBF5');
  </script>
  <!-- End Google Tag Manager -->

  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="google-site-verification" content="okUst94cAlWSsUsGZTB4xSS4UKTtRV8Nu5XZ9pdd3Aw" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configure hyperparameters from the CLI (Advanced) &mdash; PyTorch Lightning &amp; PyTorch Korea User Group 2.0.5 문서</title>
  

  
  
    <link rel="shortcut icon" href="../_static/icon.svg"/>
  
  
  
    <link rel="canonical" href="https://lightning.ai/docs/pytorch/stable//cli/lightning_cli_advanced.html"/>
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/main.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
    <link rel="index" title="색인" href="../genindex.html" />
    <link rel="search" title="검색" href="../search.html" />
  <!-- Google Analytics -->
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-82W25RV60Q"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-82W25RV60Q');
    </script>
  
  <!-- End Google Analytics -->
  

  
  <script src="../_static/js/modernizr.min.js"></script>

  <!-- Preload the theme fonts -->

<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-book.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-Medium.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/FreightSans/freight-sans-medium-italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/IBMPlexMono/IBMPlexMono-SemiBold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/UCity/UCity-Light.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/UCity/UCity-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/UCity/UCity-Semibold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="../_static/fonts/Inconsolata/Inconsolata.woff2" as="font" type="font/woff2" crossorigin="anonymous">

<!-- Preload the katex fonts -->

<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Math-Italic.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Main-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size1-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size4-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size2-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Size3-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/fonts/KaTeX_Caligraphic-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script defer src="https://use.fontawesome.com/releases/v6.1.1/js/all.js" integrity="sha384-xBXmu0dk1bEoiwd71wOonQLyH+VpgR1XcDH3rtxrLww5ajNTuMvBdL5SOiFZnNdp" crossorigin="anonymous"></script>

  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <script src="../_static/js/react/react.jsx" type="text/babel"></script>
</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://lightning.ai/docs/pytorch/latest/" aria-label="PyTorch Lightning">
      <!--  <img class="call-to-action-img" src="../_static/images/logo-lightning-icon.png"/> -->
      </a>

      <div class="main-menu">
        <ul>
          <!-- <li>
            <a href="https://lightning.ai/docs/pytorch/latest/starter/introduction.html">Get Started</a>
          </li>

          <li>
            <a href="https://lightning.ai/pages/blog/">Blog</a>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-orange-arrow">
                Docs
              </a>
              <div class="resources-dropdown-menu">
                <a class="doc-dropdown-option nav-dropdown-item" href="https://lightning.ai/docs/pytorch/stable/">
                  <span class="dropdown-title">PyTorch Lightning</span>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://lightning.ai/docs/fabric/stable/">
                  <span class="dropdown-title">Lightning Fabric</span>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://torchmetrics.readthedocs.io/en/stable/">
                  <span class="dropdown-title">TorchMetrics</span>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://lightning-flash.readthedocs.io/en/stable/">
                  <span class="dropdown-title">Lightning Flash</span>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://lightning-bolts.readthedocs.io/en/stable/">
                  <span class="dropdown-title">Lightning Bolts</span>
                </a>
            </div>
          </li> -->

          <!--<li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-arrow">
                Resources
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://www.pytorchlightning.ai/community">
                  <span class="dropdown-title">Community</span>
                  <p>Join the PyTorch developer community to contribute, learn, and get your questions answered.</p>
                </a>
                <a class="nav-dropdown-item" href="https://lightning.ai/docs/pytorch/latest/#community-examples">
                  <span class="dropdown-title">Developer Resources</span>
                  <p>Find resources and get questions answered</p>
                </a>
                <a class="nav-dropdown-item" href="https://lightning.ai/forums/" target="_blank">
                  <span class="dropdown-title">Forums</span>
                  <p>A place to discuss PyTorch code, issues, install, research</p>
                </a>
                <a class="nav-dropdown-item" href="">
                  <span class="dropdown-title">Models (Beta)</span>
                  <p>Discover, publish, and reuse pre-trained models</p>
                </a>
              </div>
            </div>
          </li>-->

          <!-- 
          <li>
            <a href="https://lightning.ai/docs/pytorch/latest/past_versions.html">Previous Versions</a>
          </li>
          

          <li>
            <a href="https://github.com/Lightning-AI/lightning">GitHub</a>
          </li> -->

          <li>
            <a href="https://www.lightning.ai/">Lightning AI</a>
          </li>

          <li>
            <a href="https://pytorch.kr/">파이토치 한국 사용자 모임</a>
          </li>

          <li>
            <a href="https://discuss.pytorch.kr/">파이토치 한국어 커뮤니티</a>
          </li>

        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>
  </div>
</div>

<body class="pytorch-body">

   

    

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
                <div class="version">
                  2.0.5
                </div>
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Home</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../starter/introduction.html">Lightning in 15 minutes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../starter/installation.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrade/migration_guide.html">Guide how to upgrade to the 2.0 version</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Level Up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../levels/core_skills.html">Basic skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="../levels/intermediate.html">Intermediate skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="../levels/advanced.html">Advanced skills</a></li>
<li class="toctree-l1"><a class="reference internal" href="../levels/expert.html">Expert skills</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Core API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../common/lightning_module.html">LightningModule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/trainer.html">Trainer</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Optional API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html">accelerators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html#callbacks">callbacks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html#cli">cli</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html#core">core</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html#loggers">loggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html#profiler">profiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html#trainer">trainer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html#strategies">strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html#tuner">tuner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_references.html#utilities">utilities</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community/index.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary/index.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../common/index.html">How-to Guides</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
      <li>Configure hyperparameters from the CLI (Advanced)</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../_sources/cli/lightning_cli_advanced.rst.txt" rel="nofollow"><img src="../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">

        
          
          <div class="rst-content">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  <section id="configure-hyperparameters-from-the-cli-advanced">
<h1>Configure hyperparameters from the CLI (Advanced)<a class="headerlink" href="#configure-hyperparameters-from-the-cli-advanced" title="이 표제에 대한 퍼머링크">¶</a></h1>
<p><strong>Audience:</strong> Users looking to modularize their code for a professional project.</p>
<p><strong>Pre-reqs:</strong> You must have read <a class="reference internal" href="lightning_cli_intermediate_2.html"><span class="doc">(Mix models and datasets)</span></a>.</p>
<p>As a project becomes more complex, the number of configurable options becomes very large, making it inconvenient to
control through individual command line arguments. To address this, CLIs implemented using
<a class="reference internal" href="../api/lightning.pytorch.cli.LightningCLI.html#lightning.pytorch.cli.LightningCLI" title="lightning.pytorch.cli.LightningCLI"><code class="xref py py-class docutils literal notranslate"><span class="pre">LightningCLI</span></code></a> always support receiving input from configuration files. The default format
used for config files is YAML.</p>
<div class="admonition tip">
<p class="admonition-title">팁</p>
<p>If you are unfamiliar with YAML, it is recommended that you first read <a class="reference internal" href="lightning_cli_faq.html#what-is-a-yaml-config-file"><span class="std std-ref">What is a yaml config file?</span></a>.</p>
</div>
<hr class="docutils" />
<section id="run-using-a-config-file">
<h2>Run using a config file<a class="headerlink" href="#run-using-a-config-file" title="이 표제에 대한 퍼머링크">¶</a></h2>
<p>To run the CLI using a yaml config, do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>main.py<span class="w"> </span>fit<span class="w"> </span>--config<span class="w"> </span>config.yaml
</pre></div>
</div>
<p>Individual arguments can be given to override options in the config file:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>main.py<span class="w"> </span>fit<span class="w"> </span>--config<span class="w"> </span>config.yaml<span class="w"> </span>--trainer.max_epochs<span class="w"> </span><span class="m">100</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="automatic-save-of-config">
<h2>Automatic save of config<a class="headerlink" href="#automatic-save-of-config" title="이 표제에 대한 퍼머링크">¶</a></h2>
<p>To ease experiment reporting and reproducibility, by default <code class="docutils literal notranslate"><span class="pre">LightningCLI</span></code> automatically saves the full YAML
configuration in the log directory. After multiple fit runs with different hyperparameters, each one will have in its
respective log directory a <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file. These files can be used to trivially reproduce an experiment, e.g.:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>main.py<span class="w"> </span>fit<span class="w"> </span>--config<span class="w"> </span>lightning_logs/version_7/config.yaml
</pre></div>
</div>
<p>The automatic saving of the config is done by the special callback <a class="reference internal" href="../api/lightning.pytorch.cli.SaveConfigCallback.html#lightning.pytorch.cli.SaveConfigCallback" title="lightning.pytorch.cli.SaveConfigCallback"><code class="xref py py-class docutils literal notranslate"><span class="pre">SaveConfigCallback</span></code></a>.
This callback is automatically added to the <code class="docutils literal notranslate"><span class="pre">Trainer</span></code>. To disable the save of the config, instantiate <code class="docutils literal notranslate"><span class="pre">LightningCLI</span></code>
with <code class="docutils literal notranslate"><span class="pre">save_config_callback=None</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">팁</p>
<p>To change the file name of the saved configs to e.g. <code class="docutils literal notranslate"><span class="pre">name.yaml</span></code>, do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cli</span> <span class="o">=</span> <span class="n">LightningCLI</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">save_config_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;config_filename&quot;</span><span class="p">:</span> <span class="s2">&quot;name.yaml&quot;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<p>It is also possible to extend the <a class="reference internal" href="../api/lightning.pytorch.cli.SaveConfigCallback.html#lightning.pytorch.cli.SaveConfigCallback" title="lightning.pytorch.cli.SaveConfigCallback"><code class="xref py py-class docutils literal notranslate"><span class="pre">SaveConfigCallback</span></code></a> class, for instance to additionally
save the config in a logger. An example of this is:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">LoggerSaveConfigCallback</span><span class="p">(</span><span class="n">SaveConfigCallback</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">save_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trainer</span><span class="p">:</span> <span class="n">Trainer</span><span class="p">,</span> <span class="n">pl_module</span><span class="p">:</span> <span class="n">LightningModule</span><span class="p">,</span> <span class="n">stage</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">trainer</span><span class="o">.</span><span class="n">logger</span><span class="p">,</span> <span class="n">Logger</span><span class="p">):</span>
            <span class="n">config</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">skip_none</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># Required for proper reproducibility</span>
            <span class="n">trainer</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">log_hyperparams</span><span class="p">({</span><span class="s2">&quot;config&quot;</span><span class="p">:</span> <span class="n">config</span><span class="p">})</span>


<span class="n">cli</span> <span class="o">=</span> <span class="n">LightningCLI</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">save_config_callback</span><span class="o">=</span><span class="n">LoggerSaveConfigCallback</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<div class="admonition tip">
<p class="admonition-title">팁</p>
<p>If you want to disable the standard behavior of saving the config to the <code class="docutils literal notranslate"><span class="pre">log_dir</span></code>, then you can either implement
<code class="docutils literal notranslate"><span class="pre">__init__</span></code> and call <code class="docutils literal notranslate"><span class="pre">super().__init__(*args,</span> <span class="pre">save_to_log_dir=False,</span> <span class="pre">**kwargs)</span></code> or instantiate the
<code class="docutils literal notranslate"><span class="pre">LightningCLI</span></code> as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cli</span> <span class="o">=</span> <span class="n">LightningCLI</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">save_config_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;save_to_log_dir&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">참고</p>
<p>The <code class="docutils literal notranslate"><span class="pre">save_config``method</span> <span class="pre">is</span> <span class="pre">only</span> <span class="pre">called</span> <span class="pre">on</span> <span class="pre">rank</span> <span class="pre">zero.</span> <span class="pre">This</span> <span class="pre">allows</span> <span class="pre">to</span> <span class="pre">implement</span> <span class="pre">a</span> <span class="pre">custom</span> <span class="pre">save</span> <span class="pre">config</span> <span class="pre">without</span> <span class="pre">having</span>
<span class="pre">to</span> <span class="pre">worry</span> <span class="pre">about</span> <span class="pre">ranks</span> <span class="pre">or</span> <span class="pre">race</span> <span class="pre">conditions.</span> <span class="pre">Since</span> <span class="pre">it</span> <span class="pre">only</span> <span class="pre">runs</span> <span class="pre">on</span> <span class="pre">rank</span> <span class="pre">zero,</span> <span class="pre">any</span> <span class="pre">collective</span> <span class="pre">call</span> <span class="pre">will</span> <span class="pre">make</span> <span class="pre">the</span> <span class="pre">process</span>
<span class="pre">hang</span> <span class="pre">waiting</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">broadcast.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">need</span> <span class="pre">to</span> <span class="pre">make</span> <span class="pre">collective</span> <span class="pre">calls,</span> <span class="pre">implement</span> <span class="pre">the</span> <span class="pre">``setup</span></code> method instead.</p>
</div>
</section>
<hr class="docutils" />
<section id="prepare-a-config-file-for-the-cli">
<h2>Prepare a config file for the CLI<a class="headerlink" href="#prepare-a-config-file-for-the-cli" title="이 표제에 대한 퍼머링크">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">--help</span></code> option of the CLIs can be used to learn which configuration options are available and how to use them.
However, writing a config from scratch can be time-consuming and error-prone. To alleviate this, the CLIs have the
<code class="docutils literal notranslate"><span class="pre">--print_config</span></code> argument, which prints to stdout the configuration without running the command.</p>
<p>For a CLI implemented as <code class="docutils literal notranslate"><span class="pre">LightningCLI(DemoModel,</span> <span class="pre">BoringDataModule)</span></code>, executing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>main.py<span class="w"> </span>fit<span class="w"> </span>--print_config
</pre></div>
</div>
<p>generates a config with all default values like the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>seed_everything:<span class="w"> </span>null
trainer:
<span class="w">  </span>logger:<span class="w"> </span><span class="nb">true</span>
<span class="w">  </span>...
model:
<span class="w">  </span>out_dim:<span class="w"> </span><span class="m">10</span>
<span class="w">  </span>learning_rate:<span class="w"> </span><span class="m">0</span>.02
data:
<span class="w">  </span>data_dir:<span class="w"> </span>./
ckpt_path:<span class="w"> </span>null
</pre></div>
</div>
<p>Other command line arguments can be given and considered in the printed configuration. A use case for this is CLIs that
accept multiple models. By default, no model is selected, meaning the printed config will not include model settings. To
get a config with the default values of a particular model would be:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>main.py<span class="w"> </span>fit<span class="w"> </span>--model<span class="w"> </span>DemoModel<span class="w"> </span>--print_config
</pre></div>
</div>
<p>which generates a config like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>seed_everything:<span class="w"> </span>null
trainer:
<span class="w">  </span>...
model:
<span class="w">  </span>class_path:<span class="w"> </span>lightning.pytorch.demos.boring_classes.DemoModel
<span class="w">  </span>init_args:
<span class="w">    </span>out_dim:<span class="w"> </span><span class="m">10</span>
<span class="w">    </span>learning_rate:<span class="w"> </span><span class="m">0</span>.02
ckpt_path:<span class="w"> </span>null
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">팁</p>
<p>A standard procedure to run experiments can be:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Print a configuration to have as reference</span>
python<span class="w"> </span>main.py<span class="w"> </span>fit<span class="w"> </span>--print_config<span class="w"> </span>&gt;<span class="w"> </span>config.yaml
<span class="c1"># Modify the config to your liking - you can remove all default arguments</span>
nano<span class="w"> </span>config.yaml
<span class="c1"># Fit your model using the edited configuration</span>
python<span class="w"> </span>main.py<span class="w"> </span>fit<span class="w"> </span>--config<span class="w"> </span>config.yaml
</pre></div>
</div>
</div>
<p>Configuration items can be either simple Python objects such as int and str,
or complex objects comprised of a <code class="docutils literal notranslate"><span class="pre">class_path</span></code> and <code class="docutils literal notranslate"><span class="pre">init_args</span></code> arguments. The <code class="docutils literal notranslate"><span class="pre">class_path</span></code> refers
to the complete import path of the item class, while <code class="docutils literal notranslate"><span class="pre">init_args</span></code> are the arguments to be passed
to the class constructor. For example, your model is defined as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># model.py</span>
<span class="k">class</span> <span class="nc">MyModel</span><span class="p">(</span><span class="n">pl</span><span class="o">.</span><span class="n">LightningModule</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">criterion</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">Module</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">criterion</span> <span class="o">=</span> <span class="n">criterion</span>
</pre></div>
</div>
<p>Then the config would be:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">model</span><span class="p">:</span>
<span class="w">  </span><span class="nt">class_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">model.MyModel</span>
<span class="w">  </span><span class="nt">init_args</span><span class="p">:</span>
<span class="w">    </span><span class="nt">criterion</span><span class="p">:</span>
<span class="w">      </span><span class="nt">class_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">torch.nn.CrossEntropyLoss</span>
<span class="w">      </span><span class="nt">init_args</span><span class="p">:</span>
<span class="w">        </span><span class="nt">reduction</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mean</span>
<span class="w">    </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">LightningCLI</span></code> uses <a class="reference external" href="https://github.com/omni-us/jsonargparse">jsonargparse</a> under the hood for parsing
configuration files and automatic creation of objects, so you don’t need to do it yourself.</p>
<div class="admonition note">
<p class="admonition-title">참고</p>
<p>Lighting automatically registers all subclasses of <a class="reference internal" href="../api/lightning.pytorch.core.LightningModule.html#lightning.pytorch.core.LightningModule" title="lightning.pytorch.core.module.LightningModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">LightningModule</span></code></a>,
so the complete import path is not required for them and can be replaced by the class name.</p>
</div>
<div class="admonition note">
<p class="admonition-title">참고</p>
<p>Parsers make a best effort to determine the correct names and types that the parser should accept.
However, there can be cases not yet supported or cases for which it would be impossible to support.
To somewhat overcome these limitations, there is a special key <code class="docutils literal notranslate"><span class="pre">dict_kwargs</span></code> that can be used
to provide arguments that will not be validated during parsing, but will be used for class instantiation.</p>
<p>For example, then using the <code class="docutils literal notranslate"><span class="pre">pytorch_lightning.profilers.PyTorchProfiler</span></code> profiler,
the <code class="docutils literal notranslate"><span class="pre">profile_memory</span></code> argument has a type that is determined dynamically. As a result, it’s not possible
to know the expected type during parsing. To account for this, your config file should be set up like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">trainer</span><span class="p">:</span>
<span class="w">  </span><span class="nt">profiler</span><span class="p">:</span>
<span class="w">    </span><span class="nt">class_path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pytorch_lightning.profilers.PyTorchProfiler</span>
<span class="w">    </span><span class="nt">dict_kwargs</span><span class="p">:</span>
<span class="w">      </span><span class="nt">profile_memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
</div>
</section>
<hr class="docutils" />
<section id="compose-config-files">
<h2>Compose config files<a class="headerlink" href="#compose-config-files" title="이 표제에 대한 퍼머링크">¶</a></h2>
<p>Multiple config files can be provided, and they will be parsed sequentially. Let’s say we have two configs with common
settings:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># config_1.yaml</span>
<span class="nt">trainer</span><span class="p">:</span>
<span class="w">  </span><span class="nt">num_epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>

<span class="c1"># config_2.yaml</span>
<span class="nt">trainer</span><span class="p">:</span>
<span class="w">  </span><span class="nt">num_epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20</span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</pre></div>
</div>
<p>The value from the last config will be used, <code class="docutils literal notranslate"><span class="pre">num_epochs</span> <span class="pre">=</span> <span class="pre">20</span></code> in this case:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>main.py<span class="w"> </span>fit<span class="w"> </span>--config<span class="w"> </span>config_1.yaml<span class="w"> </span>--config<span class="w"> </span>config_2.yaml
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="use-groups-of-options">
<h2>Use groups of options<a class="headerlink" href="#use-groups-of-options" title="이 표제에 대한 퍼머링크">¶</a></h2>
<p>Groups of options can also be given as independent config files. For configs like:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># trainer.yaml</span>
<span class="nt">num_epochs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10</span>

<span class="c1"># model.yaml</span>
<span class="nt">out_dim</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>

<span class="c1"># data.yaml</span>
<span class="nt">data_dir</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./data</span>
</pre></div>
</div>
<p>a fit command can be run as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>main.py<span class="w"> </span>fit<span class="w"> </span>--trainer<span class="w"> </span>trainer.yaml<span class="w"> </span>--model<span class="w"> </span>model.yaml<span class="w"> </span>--data<span class="w"> </span>data.yaml<span class="w"> </span><span class="o">[</span>...<span class="o">]</span>
</pre></div>
</div>
</section>
</section>


             </article>
             
            </div>
            <footer>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright (c) 2018-2023, Lightning AI et al...

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>
          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">Configure hyperparameters from the CLI (Advanced)</a><ul>
<li><a class="reference internal" href="#run-using-a-config-file">Run using a config file</a></li>
<li><a class="reference internal" href="#automatic-save-of-config">Automatic save of config</a></li>
<li><a class="reference internal" href="#prepare-a-config-file-for-the-cli">Prepare a config file for the CLI</a></li>
<li><a class="reference internal" href="#compose-config-files">Compose config files</a></li>
<li><a class="reference internal" href="#use-groups-of-options">Use groups of options</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  

  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
         <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
         <script src="../_static/jquery.js"></script>
         <script src="../_static/underscore.js"></script>
         <script src="../_static/doctools.js"></script>
         <script src="../_static/clipboard.min.js"></script>
         <script src="../_static/copybutton.js"></script>
         <script src="../_static/copybutton.js"></script>
         <script>let toggleHintShow = 'Click to show';</script>
         <script>let toggleHintHide = 'Click to hide';</script>
         <script>let toggleOpenOnPrint = 'true';</script>
         <script src="../_static/togglebutton.js"></script>
         <script src="../_static/translations.js"></script>
         <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
     

  

  <script type="text/javascript" src="../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 
<script script type="text/javascript">
  var collapsedSections = ['Best practices', 'Optional Extensions', 'Tutorials', 'API References', 'Bolts', 'Examples', 'Partner Domain Frameworks', 'Community'];
</script>



  <!-- Begin Footer -->

  <!-- <div class="container-fluid docs-tutorials-resources" id="docs-tutorials-resources"> -->
    <!-- <div class="container"> -->
      <!-- <div class="row"> -->
        <!--
        <div class="col-md-4 text-center">
          <h2>Docs</h2>
          <p>Access comprehensive developer documentation for PyTorch</p>
          <a class="with-right-arrow" href="https://lightning.ai/docs/pytorch/latest/">View Docs</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Tutorials</h2>
          <p>Get in-depth tutorials for beginners and advanced developers</p>
          <a class="with-right-arrow" href="https://lightning.ai/docs/pytorch/latest/#tutorials">View Tutorials</a>
        </div>

        <div class="col-md-4 text-center">
          <h2>Resources</h2>
          <p>Find development resources and get your questions answered</p>
          <a class="with-right-arrow" href="https://lightning.ai/docs/pytorch/latest/#community-examples">View Resources</a>
        </div>
        -->
      <!-- </div> -->
    <!-- </div> -->
  <!-- </div> -->

  <!--
  <footer class="site-footer">
    <div class="container footer-container">
      <div class="footer-logo-wrapper">
        <a href="https://lightning.ai/docs/pytorch/latest/" class="footer-logo"></a>
      </div>

      <div class="footer-links-wrapper">
        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://lightning.ai/docs/pytorch/latest/">PyTorch</a></li>
            <li><a href="https://lightning.ai/docs/pytorch/latest/starter/introduction.html">Get Started</a></li>
            <li><a href="https://lightning.ai/docs/pytorch/latest/">Features</a></li>
            <li><a href="">Ecosystem</a></li>
            <li><a href="https://lightning.ai/pages/blog/">Blog</a></li>
            <li><a href="https://github.com/Lightning-AI/lightning/blob/master/.github/CONTRIBUTING.md">Contributing</a></li>
          </ul>
        </div>

        <div class="footer-links-col">
          <ul>
            <li class="list-title"><a href="https://lightning.ai/docs/pytorch/latest/#community-examples">Resources</a></li>
            <li><a href="https://lightning.ai/docs/pytorch/latest/#tutorials">Tutorials</a></li>
            <li><a href="https://lightning.ai/docs/pytorch/latest/">Docs</a></li>
            <li><a href="https://www.pytorchlightning.ai/community" target="_blank">Discuss</a></li>
            <li><a href="https://github.com/Lightning-AI/lightning/issues" target="_blank">Github Issues</a></li>
            <li><a href="" target="_blank">Brand Guidelines</a></li>
          </ul>
        </div>

        <div class="footer-links-col follow-us-col">
          <ul>
            <li class="list-title">Stay Connected</li>
            <li>
              <div id="mc_embed_signup">
                <form
                  action="https://twitter.us14.list-manage.com/subscribe/post?u=75419c71fe0a935e53dfa4a3f&id=91d0dccd39"
                  method="post"
                  id="mc-embedded-subscribe-form"
                  name="mc-embedded-subscribe-form"
                  class="email-subscribe-form validate"
                  target="_blank"
                  novalidate>
                  <div id="mc_embed_signup_scroll" class="email-subscribe-form-fields-wrapper">
                    <div class="mc-field-group">
                      <label for="mce-EMAIL" style="display:none;">Email Address</label>
                      <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Email Address">
                    </div>

                    <div id="mce-responses" class="clear">
                      <div class="response" id="mce-error-response" style="display:none"></div>
                      <div class="response" id="mce-success-response" style="display:none"></div>
                    </div>

                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_75419c71fe0a935e53dfa4a3f_91d0dccd39" tabindex="-1" value=""></div>

                    <div class="clear">
                      <input type="submit" value="" name="subscribe" id="mc-embedded-subscribe" class="button email-subscribe-button">
                    </div>
                  </div>
                </form>
              </div>

            </li>
          </ul>

          <div class="footer-social-icons">
            <a href="" target="_blank" class="facebook"></a>
            <a href="https://twitter.com/LightningAI" target="_blank" class="twitter"></a>
            <a href="" target="_blank" class="youtube"></a>
          </div>
        </div>
      </div>
    </div>
  </footer>
  -->

  <div class="cookie-banner-wrapper">
  <div class="container">
    <p class="gdpr-notice">To analyze traffic and optimize your experience, we serve cookies on this site. By clicking or navigating, you agree to allow our usage of cookies. Read PyTorch Lightning's <a href="https://pytorchlightning.ai/privacy-policy">Privacy Policy</a>.</p>
    <img class="close-button" src="../_static/images/pytorch-x.svg">
  </div>
</div>

  <!-- End Footer -->

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://lightning.ai/docs/pytorch/latest/" aria-label="PyTorch Lightning"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <!-- <li>
            <a href="https://lightning.ai/docs/pytorch/latest/starter/introduction.html">Get Started</a>
          </li>

          <li>
            <a href="https://lightning.ai/pages/blog/">Blog</a>
          </li>

          <li class="resources-mobile-menu-title">
            Ecosystem
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://lightning.ai/docs/pytorch/stable/">PyTorch Lightning</a>
            </li>

            <li>
              <a href="https://lightning.ai/docs/fabric/stable/">Lightning Fabric</a>
            </li>

            <li>
              <a href="https://torchmetrics.readthedocs.io/en/stable/">TorchMetrics</a>
            </li>

            <li>
              <a href="https://lightning.ai/docs/fabric/stable/">Fabric</a>
            </li>
          </ul> -->

          <!--<li class="resources-mobile-menu-title">
            Resources
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://lightning.ai/docs/pytorch/latest/#community-examples">Developer Resources</a>
            </li>

            <li>
              <a href="https://lightning.ai/docs/pytorch/latest/">About</a>
            </li>

            <li>
              <a href="">Models (Beta)</a>
            </li>

            <li>
              <a href="https://www.pytorchlightning.ai/community">Community</a>
            </li>

            <li>
              <a href="https://lightning.ai/forums/">Forums</a>
            </li>
          </ul>-->

          <li>
            <a href="https://www.lightning.ai/">Lightning.ai</a>
          </li>

          <li>
            <a href="https://pytorch.kr/">파이토치 한국 사용자 모임</a>
          </li>

          <li>
            <a href="https://discuss.pytorch.kr/">파이토치 한국어 커뮤니티</a>
          </li>

        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>

  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5SCNQBF5"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
 </body>
</html>